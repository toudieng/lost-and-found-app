{% extends "frontend/citoyen/base_citoyen.html" %}
{% load static %}

{% block title %}Objets √† R√©clamer{% endblock %}

{% block content %}
<h2 class="welcome-title">üìå Objets √† r√©clamer</h2>
<p class="text-muted">Objets qui vous sont attribu√©s ou d√©j√† restitu√©s.</p>

{% if objets %}
    <div class="row">
        {% for obj in objets %}
        <div class="col-md-4 mb-3">
            <div class="card shadow-sm">
                {% if obj.objet.image %}
                <img src="{{ obj.objet.image.url }}" class="card-img-top" alt="{{ obj.objet.nom }}">
                {% endif %}
                <div class="card-body">
                    <h5 class="card-title">{{ obj.objet.nom }}</h5>
                    <p class="card-text">{{ obj.objet.description|default:"Aucune description" }}</p>
                    <p><small class="text-muted">D√©clar√© le {{ obj.date_declaration|date:"d/m/Y H:i" }}</small></p>
                    <p><small class="text-muted">√âtat: {{ obj.objet.get_etat_display }}</small></p>
                    {% if obj.etat != "restitue" %}
                    <a href="{% url 'reclamer_objet' obj.id %}" class="btn btn-primary btn-sm">R√©clamer</a>
                    {% else %}
                    <span class="badge bg-success">Restitu√©</span>
                    {% endif %}
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
{% else %}
    <p class="text-muted">Aucun objet √† r√©clamer pour le moment.</p>
{% endif %}
{% endblock %}
