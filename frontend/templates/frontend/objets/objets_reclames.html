{% extends "frontend/policier/base_policier.html" %}
{% block title %}Objets Ã  restituer{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2 class="fw-bold mb-3">ğŸ“Œ Objets Ã  restituer</h2>

    {% for declaration in declarations %}
        <div class="card my-2 p-3 shadow-sm">
            <h5>{{ declaration.objet.nom }}</h5>
            <p><b>RÃ©clamÃ© par :</b> {{ declaration.reclame_par.username }}</p>
            <p><b>Lieu :</b> {{ declaration.lieu|default:"Non prÃ©cisÃ©" }}</p>

            {% if declaration.objet.id in restitutions_dict %}
                <button class="btn btn-secondary btn-sm" disabled>ğŸ“… PlanifiÃ©</button>
            {% else %}
                <a href="{% url 'planifier_restitution' declaration.id 'declaration' %}" 
                   class="btn btn-primary btn-sm">
                    ğŸ“… Programmer restitution
                </a>
            {% endif %}
        </div>
    {% empty %}
        <div class="alert alert-info">Aucun objet rÃ©clamÃ© pour le moment.</div>
    {% endfor %}
</div>
{% endblock %}
