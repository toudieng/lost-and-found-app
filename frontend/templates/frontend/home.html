{% extends 'frontend/base.html' %}
{% load static %}

{% block title %}Accueil - Objets Perdus{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'frontend/css/home.css' %}">

<style>
#page-bg { transition: background-color 0.5s ease; }

/* Carousel ajust√© */
.carousel-inner img {
    width: 100%;
    max-height: 60vh; /* limite la hauteur */
    object-fit: cover; /* conserve le ratio de l'image */
}

.hero h1 { font-size: 2.5rem; }
.hero p.lead { font-size: 1.25rem; }

.features .card {
    border: none;
    border-radius: 1rem;
    transition: transform 0.3s, box-shadow 0.3s;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}
.features .card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.15);
}
.features .icon-lost, .features .icon-found, .features .icon-follow {
    font-size: 3rem;
    color: #6c1e3d;
    margin-bottom: 1rem;
}
.btn-action-lost { background-color: #dc3545; color: #fff; border-radius: 0.5rem; }
.btn-action-lost:hover { background-color: #b02a37; }
.btn-action-found { background-color: #198754; color: #fff; border-radius: 0.5rem; }
.btn-action-found:hover { background-color: #146c43; }

.partners img { max-height: 80px; object-fit: contain; }

.cta { background-color: #6c1e3d; border-radius: 1rem; }
.cta h2 { font-weight: 600; }
.cta .btn { border-radius: 0.5rem; }
</style>
{% endblock %}

{% block content %}
<div id="page-bg">

<!-- Carousel -->
<div id="carouselExampleFade" class="carousel slide carousel-fade">
  <div class="carousel-inner">
    <div class="carousel-item active">
        <img src="{% static 'frontend/images/head2.jpg' %}" class="d-block w-100" alt="Slide 1">
        <div class="carousel-caption d-none d-md-block">
            <h5>Bienvenue sur la plateforme des Objets Perdus</h5>
            <p>D√©clarez un objet perdu, consultez les objets retrouv√©s et suivez vos d√©marches en toute s√©curit√©.</p>
        </div>
    </div>
    <div class="carousel-item">
        <img src="{% static 'frontend/images/head1.jpg' %}" class="d-block w-100" alt="Slide 2">
    </div>
    <div class="carousel-item">
        <img src="{% static 'frontend/images/head3.jpg' %}" class="d-block w-100" alt="Slide 3">
    </div>
    <div class="carousel-item">
        <img src="{% static 'frontend/images/head4.jpg' %}" class="d-block w-100" alt="Slide 4">
    </div>
    <div class="carousel-item">
        <img src="{% static 'frontend/images/head5.jpg' %}" class="d-block w-100" alt="Slide 5">
    </div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleFade" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>

<!-- Hero Section -->
<section class="hero py-6 text-center">
    <div class="container">
        <h1 class="display-3 fw-bold mb-4">üì¶ Bienvenue sur la plateforme des Objets Perdus</h1>
        <p class="lead mb-5 fs-5">D√©clarez un objet perdu, consultez les objets retrouv√©s et suivez vos d√©marches en toute s√©curit√©.</p>
        <a href="{% url 'objets_perdus' %}" class="btn btn-danger btn-lg shadow-lg me-3">‚ùå Voir les objets perdus</a>
        <a href="{% url 'objets_trouves' %}" class="btn btn-success btn-lg shadow-lg">‚úÖ Voir les objets trouv√©s</a>
    </div>
</section>

<!-- Section √Ä propos / Avantages -->
<h5 id="about" class="text-center fw-bold mb-4">Les diff√©rents avantages de notre app</h5>
<div class="container features mb-5">
  <div class="row text-center g-4">
    <div class="col-md-4">
      <div class="card p-4 h-100">
        <i class="fa-solid fa-box-open icon-lost"></i>
        <h3>D√©clarer un objet perdu</h3>
        <p>Remplissez facilement le formulaire pour signaler un objet que vous avez perdu.</p>
        <a href="{% url 'declarer_objet' %}" class="btn btn-action-lost">D√©clarer un objet</a>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card p-4 h-100">
        <i class="fa-solid fa-magnifying-glass icon-found"></i>
        <h3>Consulter les objets retrouv√©s</h3>
        <p>Parcourez la liste des objets retrouv√©s et contactez le d√©clarant si n√©cessaire.</p>
        <a href="{% url 'objets_trouves' %}" class="btn btn-action-found">Consulter les objets</a>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card p-4 h-100">
        <i class="fa-solid fa-folder-open icon-follow"></i>
        <h3>Suivre vos d√©marches</h3>
        <p>Gardez un ≈ìil sur l'√©tat de vos d√©clarations et notifications directement depuis votre compte.</p>
      </div>
    </div>
  </div>
</div>

<!-- Partenaires -->
<section class="partners py-6 bg-light text-center">
    <div class="container">
        <h2 class="display-6 fw-bold mb-4">ü§ù Nos Partenaires</h2>
        <p class="text-muted mb-5">Nous collaborons avec des organismes et entreprises de confiance pour faciliter la restitution.</p>
        <div class="row justify-content-center align-items-center g-4">
            <div class="col-4 col-md-2"><img src="{% static 'frontend/img/partenaire1.png' %}" class="img-fluid" alt="Partenaire 1"></div>
            <div class="col-4 col-md-2"><img src="{% static 'frontend/img/partenaire2.jpg' %}" class="img-fluid" alt="Partenaire 2"></div>
            <div class="col-4 col-md-2"><img src="{% static 'frontend/img/partenaire3.jpg' %}" class="img-fluid" alt="Partenaire 3"></div>
            <div class="col-4 col-md-2"><img src="{% static 'frontend/img/partenaire4.jpg' %}" class="img-fluid" alt="Partenaire 4"></div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta text-white text-center py-6 rounded shadow-lg my-5" style="background-color: #6c1e3d;">
    <div class="container">
        <h2 class="display-5 mb-3">Vous avez perdu un objet ?</h2>
        <p class="mb-4 fs-5">D√©clarez-le d√®s maintenant et augmentez vos chances de le retrouver rapidement.</p>
        <a href="{% url 'declarer_objet' %}" class="btn btn-cta btn-lg shadow-lg">
            <i class="bi bi-plus-circle me-2"></i> D√©clarer un objet perdu
        </a>
    </div>
</section>

</div>
{% endblock %}

{% block extra_js %}
<script>
document.querySelectorAll('a.nav-link[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if(target) {
            target.scrollIntoView({ behavior: 'smooth' });
        }
    });
});
</script>
{% endblock %}
